<!-- Шаблон: `templates/generatePalet.html`. Назначение: Страница генерации случайной цветовой палитры. -->

{% extends 'base.html' %}

{% block title %}
    {{ _('Генерация случайной палитры') }}
{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <h1 class="gradient-text text-center mb-4">{{ _('Генерация случайной палитры') }}</h1>
            <p class="text-center mb-5">{{ _('Создайте уникальную цветовую палитру с помощью генератора случайных цветов') }}</p>

            <div class="text-center mb-4">
                <label for="colorCount" class="form-label">{{ _('Количество цветов:') }}</label>
                <select id="colorCount" class="form-select d-inline-block w-auto">
                    {% for value in range(3, 16) %}
                    <option value="{{ value }}" {% if value == 5 %}selected{% endif %}>{{ value }}</option>
                    {% endfor %}
                </select>
                <button id="generateBtn" type="button" class="btn btn-primary ms-2">{{ _('Сгенерировать палитру') }}</button>
            </div>

            <div id="colorPalette" class="random-palette-grid d-flex flex-wrap gap-2 mb-3 justify-content-center"></div>
            <p class="palette-edit-hint text-muted text-center mb-0">
                {{ _('Меняйте цвет через палитру или HEX-поле. Нажмите на цвет, чтобы скопировать HEX.') }}
            </p>

            <div id="actionsSection" class="mt-4 text-center d-none">
                <h5>{{ _('Действия') }}</h5>
                {% if current_user.is_authenticated %}
                    <button id="savePaletteBtn" type="button" class="btn btn-success me-2 my-2" data-bs-toggle="modal" data-bs-target="#saveModal">{{ _('Сохранить палитру') }}</button>
                {% else %}
                    <p class="text-muted mb-2">{{ _('Чтобы сохранить палитру,') }} <a href="{{ url_for('login') }}">{{ _('войдите') }}</a> {{ _('или') }} <a href="{{ url_for('register') }}">{{ _('зарегистрируйтесь') }}</a>.</p>
                {% endif %}
                <div class="export-actions d-flex flex-wrap gap-2" role="group">
                    <button type="button" class="btn btn-outline-primary export-option" data-format="json">{{ _('Экспорт JSON') }}</button>
                    <button type="button" class="btn btn-outline-primary export-option" data-format="gpl">{{ _('Экспорт GPL') }}</button>
                    <button type="button" class="btn btn-outline-primary export-option" data-format="ase">{{ _('Экспорт ASE') }}</button>
                    <button type="button" class="btn btn-outline-primary export-option" data-format="csv">{{ _('Экспорт CSV') }}</button>
                    <button type="button" class="btn btn-outline-primary export-option" data-format="aco">{{ _('Экспорт ACO') }}</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='js/randomPalette.js') }}"></script>
{% endblock %}
